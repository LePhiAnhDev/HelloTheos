name: Build My iOS App

on:
  push:
    branches: [main, develop]
  pull_request:
  release:
    types: [created]
  workflow_dispatch:

permissions:
  contents: write
  actions: read
  packages: read

jobs:
  build:
    uses: LePhiAnhDev/ci-ios-theos/.github/workflows/ios-theos-build.yml@main
    with:
      schemes: '["default"]'
      sdk_version: '16.5'
      theos_repo: 'official'
      upload_release: ${{ github.event_name == 'release' }}
      artifact_retention_days: 30
      fail_fast: true
      max_parallel: 1